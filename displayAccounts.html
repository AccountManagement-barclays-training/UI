<!DOCTYPE html>
<html lang="en">
<head>
	<script type="text/javascript">
		console.log("Hello");
		var cid=localStorage.getItem("cid");
		obj ={}
    	obj.cid =cid;
    	var p=``;
		fetch('http://acm.mocklab.io/accounts', 
		{

		method: 'POST',
		body: JSON.stringify(obj),
		headers: {
			'Accept': 'application/json',
			'Content-Type': 'application/json'
			},
		})
		.then(resp=>resp.json())
		.then(data => {
				for(let i in data.details){
				p +=`<p><b>Account Number:</b>&nbsp;&nbsp;${data.details[i].accno}<br><br>
				<b>Balance:</b>&nbsp;&nbsp;${data.details[i].bal}</b><br><br>
				</p>`;
            localStorage.setItem("accno",data.details[0].accno);
            localStorage.setItem("cid",cid);
            document.getElementById("users").innerHTML=p;
			}
		});

	function viewTrans(event)
	{
		console.log("HELLO");
		event.preventDefault();
		var accno = document.getElementById("accno").value;
		localStorage.setItem("acc", accno);
		window.location.replace("viewtransactions.html");
	}
				
	</script>
</head>
	<body>
	

		<div>
			<h1 style="text-align: center;">Your Account Details</h1>
			<br>
			<!-- Table to display fetched user data -->
			<p style="text-align: justify; font-size: 30px;" id="users"> </p>
		  </div>
		  <center>
		  	<form> 
		  	<input style="width:30%;
		  	height:20px;" type="text" id="accno" placeholder="Enter Acc No for View"/>
		  	<br>
		  <button style="background-color: blue;   
		 width: 20%;  
		  color: white;   
		  padding: 15px;   
		  margin: 10px 0px;   
		  border: none;   
		  cursor: pointer; "type="submit" onclick="viewTrans(event)">View Transactions</button>
		 </center>
	</body>
</html>
